# SQL query to find the average amount paid by the top 5 customers.

SELECT AVG(total_amount_paid) AS avg_amount_paid
FROM (SELECT A.customer_id, A.first_name, D.country, C.city, sum(E.amount) AS total_amount_paid
      FROM customer AS A
      LEFT JOIN address AS B ON A.address_id=B.address_id
      LEFT JOIN city AS C ON B.city_id=C,city_id
      LEFT JOIN country AS D ON C.country_id=D.country_id
      LEFT JOIN payment AS E ON A.customer_id=E.customer_id
      WHERE C.city IN (
